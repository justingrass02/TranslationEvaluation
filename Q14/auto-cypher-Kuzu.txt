MATCH (e1:RegisterCustomerOrder)-[:E2O]->(o1:CustomerOrder)
WHERE COUNT {MATCH (o1:CustomerOrder)-[:O2O]->(o2:TransportDocument), (e2:CreateTransportDocument)-[:E2O]->(o2:TransportDocument)
WHERE COUNT {MATCH (e3:BookVehicles)-[:E2O]->(o2:TransportDocument), (e4:OrderEmptyContainers)-[:E2O]->(o2:TransportDocument), (e4:OrderEmptyContainers)-[:E2O]->(o4:Container), (o3:Truck)
} >= 15
} >= 1
RETURN o1.id,e1.id
